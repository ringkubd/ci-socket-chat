{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./custom.ts","webpack:///./wsaction.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./custom.ts\");\n","import {\r\n\twsaction\r\n} from './wsaction'\r\n\r\nwindow.onload = function () {\r\n\r\n\tlet session = <HTMLInputElement>document.getElementById('session')\r\n\r\n\tlet token = <HTMLInputElement>document.getElementById('token')\r\n\r\n\tlet login_path = <HTMLInputElement>document.getElementById('login_path')\r\n\r\n\t// let rightClickTarger: string;\r\n\r\n\tlet currentTab;\r\n\r\n\tlet composeCount = 0;\r\n\r\n\tlet logout = <HTMLInputElement>document.getElementById('logout')\r\n\r\n\tif (logout != null) {\r\n\r\n\t\t// logout.addEventListener('click', Logout)\r\n\t}\r\n\r\n\tlet siteUrl = \"localhost/cisocket/server\";\r\n\tlet wsUrl = \"localhost\";\r\n\r\n\t// let siteUrl = \"chilro.com\";\r\n\t// let wsUrl = \"chilro.com\"; \r\n\r\n\r\n\tlet websocket_server = new WebSocket(\"ws://\" + wsUrl + \":8282/\");\r\n\r\n\tlet mobj = new wsaction(websocket_server, siteUrl, session.value, token.value)\r\n\r\n\tfunction mContextMenu(e: PointerEvent) {\r\n\t\tlet liemele: any = e.currentTarget\r\n\t\tlet intxt = liemele.innerHTML\r\n\t\tintxt = intxt.split('href=\"#\">')[1]\r\n\t\tintxt = intxt.split('</a>')[0]\r\n\t\t// rightClickTarger = intxt\r\n\t}\r\n\tfunction mtrim(myString: string) {\r\n\t\treturn myString.replace(/^\\s+/, '').replace(/\\s+$/, '')\r\n\t}\r\n\r\n\t$(\"#roomlist li\").on(\"click\", function () {\r\n\t\tmobj.JoinJoin(mtrim($(this).text()));\r\n\t\t// console.log(mtrim($(this).text()))\r\n\t});\r\n\r\n\tlet roomTxtCountReset = <HTMLElement>document.getElementById('totalroommsg')\r\n\troomTxtCountReset.addEventListener('click', (e) => {\r\n\t\tlet pps = <HTMLElement>document.getElementById('ttcount')\r\n\t\tpps.innerHTML = \"0\"\r\n\t\tpps.style.visibility = 'hidden'\r\n\t})\r\n\r\n}\r\n\r\n\r\n","export class wsaction {\r\n\r\n\tprivate ws: WebSocket\r\n\r\n\tprivate token: string\r\n\r\n\tprivate session: string\r\n\r\n\tprivate siteUrl: string\r\n\r\n\tprivate connm: HTMLElement;\r\n\r\n\tprivate ctab: number;\r\n\r\n\tprivate audioNote: any;\r\n\r\n\tprivate currentRoom: string\r\n\tprivate currentAction: string\r\n\r\n\tconstructor(websocket_server: WebSocket, _siteUrl: string, session: string, token: string) {\r\n\r\n\t\tthis.siteUrl = \"http://\" + _siteUrl + \"/\";\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\tthis.ctab = 1\r\n\r\n\t\tthis.currentRoom = \"\"\r\n\t\tthis.currentAction = \"\"\r\n\r\n\t\tlet rml = < HTMLInputElement > document.getElementById('rmldiv')\r\n\r\n\t\trml.addEventListener(\"click\", (e) => {\r\n\t\t\tmthis.Setctab(1)\r\n\t\t})\r\n\r\n\t\tlet clogout = < HTMLAnchorElement > document.getElementById('clogout')\r\n\r\n\t\tclogout.addEventListener(\"click\", (e) => {\r\n\t\t\tmthis.Logout(e)\r\n\t\t})\r\n\r\n\t\tlet status = < HTMLInputElement > document.getElementById('totalroommsg')\r\n\t\tstatus.addEventListener(\"click\", (e) => {\r\n\t\t\tmthis.Setctab(2)\r\n\t\t})\r\n\r\n\t\tthis.ws = websocket_server\r\n\r\n\t\tthis.session = session\r\n\r\n\t\tthis.token = token\r\n\r\n\t\tthis.audioNote = new Audio(this.siteUrl + 'asset/sound/notification_6.mp3');\r\n\r\n\t\tthis.connm = < HTMLInputElement > document.getElementById('contextMenu')\r\n\r\n\t\tconsole.log(token);\r\n\r\n\t\t// this.connm.addEventListener('click taphold', (e) => {\r\n\r\n\t\t// \tlet mthis = this\r\n\t\t// \tlet kopMnu = < HTMLElement > document.getElementById('contextMenu');\r\n\t\t// \tkopMnu.style.display = 'none';\r\n\t\t// \tlet txttarget: any = e.target\r\n\r\n\t\t//     //  console.log(txttarget.innerHTML)\r\n\r\n\t\t// \tif (txttarget.innerHTML == \"Kick\") {\r\n\t\t// \t\tlet target = mthis.GetLocalStorageValue('actionTarget')\r\n\t\t// \t\tlet roomName = mthis.GetLocalStorageValue('currentRoomName')\r\n\t\t// \t\tmthis.KickUser(roomName, target)\r\n\t\t// \t} else if (txttarget.innerHTML == \"Refresh\") {\r\n\t\t// \t\tlet roomName = mthis.GetLocalStorageValue('currentRoomName')\r\n\t\t// \t\tconsole.log(roomName)\r\n\t\t// \t\tmthis.RoomUserList(roomName);\r\n\t\t// \t}\r\n\r\n\t\t// })\r\n\r\n\t\tthis.ws.onopen = function (e: Event) {\r\n\t\t\tmthis.ws.send(\r\n\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t'type': 'socket',\r\n\t\t\t\t\t'user_id': session,\r\n\t\t\t\t\t'token': token\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t};\r\n\r\n\t\tthis.ws.onerror = function (e: Event) {\r\n\t\t\talert(\"You are not connected to the Server. Please try Again Later.\")\r\n\t\t}\r\n\r\n\t\tthis.ws.onmessage = function (e: MessageEvent) {\r\n\r\n\t\t\tlet json = JSON.parse(e.data);\r\n\r\n\t\t\tswitch (json.type) {\r\n\r\n\t\t\t\tcase 'roomchat':\r\n\r\n\t\t\t\t\tconsole.log(json.msg);\r\n\r\n\t\t\t\t\tmthis.SendToRoomManagement(json.room_name, json.sender, json.receiver, json.power, json.msg);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'roomuserlist':\r\n\r\n\t\t\t\t\tmthis.SetRoomUserList(json.room_name, json.list);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'error':\r\n\r\n\t\t\t\t\t// console.log(json.msg)\r\n\r\n\t\t\t\t\talert(json.msg);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'alive':\r\n\r\n\t\t\t\tmthis.Alive();\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate playSound() {\r\n\r\n\t\tthis.audioNote.play();\r\n\t}\r\n\r\n\tprivate GetLocalStorageValue(key: any): string {\r\n\t\tlet retval = window.localStorage.getItem(key)\r\n\t\tif (retval === null) {\r\n\t\t\treturn \"\"\r\n\t\t} else {\r\n\t\t\treturn retval\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Setctab(val: number) {\r\n\t\tthis.ctab = val\r\n\t}\r\n\r\n\tprivate SetRoomUserList(targetRoom: string, userlist: string) {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\tlet msgholder = < HTMLUListElement > document.querySelector('#userlist-' + targetRoom + ' ul')\r\n\r\n\t\tif (msgholder != null) {\r\n\r\n\t\t\tlet listLength = msgholder.children.length;\r\n\r\n\t\t\tfor (let i = 0; i < listLength; i++) {\r\n\t\t\t\tmsgholder.removeChild(msgholder.children[0]);\r\n\t\t\t}\r\n\r\n\t\t\tlet jsonData = JSON.parse(userlist);\r\n\r\n\t\t\tfor (let i = 0; i < jsonData.length; i++) {\r\n\r\n\t\t\t\tlet username: string = jsonData[i];\r\n\r\n\t\t\t\tlet ulli = < HTMLElement > document.createElement('a');\r\n\r\n\t\t\t\t// ulli.addEventListener('click', (e) => {\r\n\t\t\t\t// \tconsole.log('kop')\r\n\t\t\t\t// \treturn false\r\n\t\t\t\t// })\r\n\r\n\t\t\t\tulli.setAttribute(\"href\", \"#\")\r\n\r\n\t\t\t\tulli.setAttribute(\"class\", \"mnuclick\")\r\n\r\n\t\t\t\tulli.innerHTML = username\r\n\r\n\t\t\t\tmsgholder.appendChild(ulli)\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.clickUser()\r\n\t}\r\n\r\n\tprivate ulistListner() {\r\n\r\n\t\t$('.ulli').on('click touchstart', function () {\r\n\r\n\t\t\tlet mthis = this\r\n\r\n\t\t\t// 'console.log('kop')\r\n\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tprivate ShowMenu(e: MouseEvent) {\r\n\t\tlet control = < HTMLElement > document.getElementById('contextMenu');\r\n\t\tlet posx = e.clientX + window.pageXOffset + 'px'; //Left Position of Mouse Pointer\r\n\t\tlet posy = e.clientY + window.pageYOffset + 'px'; //Top Position of Mouse Pointer\r\n\t\tlet kopMnu = < HTMLElement > document.getElementById('contextMenu');\r\n\t\tkopMnu.style.position = 'absolute'\r\n\t\tkopMnu.style.display = 'inline';\r\n\t\tkopMnu.style.left = posx;\r\n\t\tkopMnu.style.top = posy;\r\n\r\n\t\tcontrol.style.zIndex = \"-1\"\r\n\r\n\t\tlet liemele: any = e.target\r\n\r\n\r\n\t\tlet intxt = liemele.innerHTML\r\n\r\n\t\twindow.localStorage.setItem('actionTarget', intxt)\r\n\r\n\t\tlet roomname: HTMLElement = liemele.parentElement.parentElement.parentElement\r\n\r\n\t\tlet roomnameid = roomname.id\r\n\r\n\t\twindow.localStorage.setItem('currentRoomName', roomnameid.split('closenav-')[1])\r\n\r\n\t}\r\n\r\n\tprivate SetTempVar(str: string) {\r\n\t\tlet tempvar = < HTMLInputElement > document.getElementById('tempvar');\r\n\t\ttempvar.value = str\r\n\t}\r\n\r\n\tpublic mtrim(myString: string) {\r\n\t\treturn myString.replace(/^\\s+/, '').replace(/\\s+$/, '')\r\n\t}\r\n\r\n\tprivate SendToRoomManagement(room: string, sender: string, receiver: string, power: string, msg: string) {\r\n\r\n\t\troom = this.mtrim(room)\r\n\r\n\t\tsender = this.mtrim(sender)\r\n\r\n\t\treceiver = this.mtrim(receiver)\r\n\r\n\t\tlet myElem = < HTMLElement > document.querySelector('#' + room)\r\n\r\n\t\tif (!myElem) {\r\n\r\n\t\t\tthis.MakeNewRoom(room, sender, receiver, msg);\r\n\r\n\t\t\tthis.senddataToRoom(room, sender, receiver, power, msg);\r\n\r\n\t\t\tthis.RoomUserList(room);\r\n\r\n\t\t\tthis.roomTxtSendBtn()\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.insertTextToroom(room, sender, receiver, power, msg)\r\n\r\n\t\t}\r\n\r\n\t\tif (sender != this.session) {\r\n\t\t\tthis.playSound()\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tprivate MakeNewRoom(room: string, sender: string, receiver: string, msg: string) {\r\n\r\n\t\tlet tco = < HTMLElement > document.querySelector('#tab-contacts-outter')\r\n\r\n\t\tlet tabble: HTMLElement;\r\n\r\n\t\ttabble = < HTMLElement > document.createElement('li');\r\n\r\n\t\ttabble.setAttribute('data-target', '#' + room)\r\n\r\n\t\ttabble.setAttribute('data-toggle', 'tab')\r\n\r\n\t\tlet mdiv = < HTMLElement > document.createElement('div');\r\n\r\n\t\tmdiv.className = 'vcentered info-combo'\r\n\r\n\t\tlet mh3 = < HTMLElement > document.createElement('h3');\r\n\r\n\t\tmh3.className = 'no-margin-bottom name'\r\n\r\n\t\tmh3.innerHTML = room\r\n\r\n\t\tmdiv.appendChild(mh3)\r\n\r\n\t\ttabble.appendChild(mdiv)\r\n\r\n\t\ttabble.innerHTML = '<a class = \"resetclass\" id =\"resetcount-' + room + '\" href=\"#' + room + '\"><button class=\"close closeTab\" type=\"button\" >×</button>' + room + '</a> <a style = \"visibility:hidden;\" id =\"txtcount-' + room + '\" >0</a>'\r\n\r\n\t\ttco.appendChild(tabble)\r\n\r\n\t\ttco.appendChild(tabble)\r\n\r\n\t\ttco.style.display = 'block'\r\n\r\n\t\tlet roomTxtCountReset = < HTMLAnchorElement > document.getElementById('resetcount-' + room)\r\n\r\n\t\t// roomTxtCountReset.addEventListener('click', this.resetRoomTxtCount)\r\n\r\n\t\t// roomTxtCountReset.addEventListener('change', function () {\r\n\t\t// \tthis.resetRoomTxtCount.call(room);\r\n\t\t// }, false);\r\n\r\n\t\t// roomTxtCountReset.addEventListener('click', (e) => {\r\n\r\n\t\t// \tlet rstc: any = e.target\r\n\t\t// \tlet roomname:string = rstc.id.split('-')[1]\r\n\t\t// \tlet roomTxtCount:HTMLAnchorElement = < HTMLAnchorElement > document.getElementById('txtcount-' + room)\r\n\t\t// \troomTxtCount.innerHTML = \"0\"\r\n\t\t// \troomTxtCount.style.visibility = 'hidden'\r\n\r\n\t\t// })\r\n\r\n\t\tthis.registerCloseEvent();\r\n\t\tthis.resetRoomTxtCountEvent();\r\n\t}\r\n\r\n\r\n\t//  resetRoomTxtCount(e: Event) {\r\n\t// \tlet rstc: any = e.target\r\n\t// \tlet roomname:string = rstc.id.split('-')[1]\r\n\t// \tlet roomTxtCount:HTMLAnchorElement = < HTMLAnchorElement > document.getElementById('txtcount-' + roomname)\r\n\t// \troomTxtCount.innerHTML = \"0\"\r\n\t// \troomTxtCount.style.visibility = 'hidden'\r\n\t// }\r\n\r\n\tprivate registerCloseEvent() {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\t$(\".closeTab\").click(function () {\r\n\t\t\t//there are multiple elements which has .closeTab icon so close the tab whose close icon is clicked\r\n\t\t\tlet tabContentId: any = $(this).parent().attr(\"href\");\r\n\t\t\tlet tlrm: any = $(this).parent().attr(\"href\");\r\n\t\t\tmthis.JoinLeave(tlrm.split('#')[1])\r\n\t\t\t$(this).parent().parent().remove(); //remove li of tab\r\n\t\t\t$('#myTab a:last').click\r\n\t\t\t$(tabContentId).remove(); //remove respective tab content\r\n\t\t});\r\n\t}\r\n\r\n\tprivate resetRoomTxtCountEvent() {\r\n\t\tlet mthis = this\r\n\t\t$(\".resetclass\").click(function () {\r\n\t\t\tlet tabContentId: any = $(this).attr(\"href\");\r\n\t\t\tlet resettxtid: string = tabContentId.split('#')[1];\r\n\t\t\t$('#txtcount-' + resettxtid).text(0)\r\n\t\t\t$('#txtcount-' + resettxtid).css(\"visibility\", \"hidden\")\r\n\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tprivate senddataToRoom(loadDivSelector: string, sender: string, receiver: string, power: string, msg: string) {\r\n\r\n\t\tthis.insertTextToroom(loadDivSelector, sender, receiver, power, msg)\r\n\r\n\t}\r\n\r\n\tprivate insertTextToroom(loadDivSelector: string, sender: string, receiver: string, power: string, msg: string) {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\tlet msgholder = < HTMLElement > document.querySelector('#allmsg')\r\n\r\n\t\tlet createdChat = < HTMLElement > document.querySelector('#' + loadDivSelector + ' .message-chat .chat-body .tab-pane')\r\n\r\n\t\tlet divmmm\r\n\r\n\t\tif (createdChat != null) {\r\n\r\n\t\t\tlet divold = < HTMLElement > document.createElement('div');\r\n\r\n\t\t\tdivold.innerHTML = this.SenderColor(sender, receiver, power, msg)\r\n\r\n\t\t\tcreatedChat.appendChild(divold)\r\n\r\n\t\t\tlet roomTxtCount = < HTMLAnchorElement > document.getElementById('txtcount-' + loadDivSelector)\r\n\r\n\t\t\troomTxtCount.style.visibility = 'visible'\r\n\r\n\t\t\tlet cval = parseInt(roomTxtCount.innerHTML) + 1\r\n\r\n\t\t\troomTxtCount.innerHTML = cval.toString()\r\n\r\n\t\t\t// console.log(mthis.ctab)\r\n\r\n\t\t\tif (mthis.ctab == 1) {\r\n\r\n\t\t\t\tlet allcount = < HTMLElement > document.getElementById('ttcount')\r\n\r\n\t\t\t\tlet strVal = parseInt(allcount.innerHTML) + 1\r\n\r\n\t\t\t\tallcount.innerHTML = strVal.toString()\r\n\r\n\t\t\t\tallcount.style.visibility = 'visible'\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlet divtpmb = < HTMLElement > document.createElement('div');\r\n\r\n\t\t\tdivtpmb.className = 'tab-pane message-body'\r\n\r\n\t\t\tdivtpmb.id = loadDivSelector\r\n\r\n\t\t\tlet opmsgdiv = < HTMLElement > document.createElement('div');\r\n\r\n\t\t\topmsgdiv.innerHTML = `\r\n            <div class=\"message-top\">\r\n                    <a id=\"opennav-` + loadDivSelector + `\" style=\"font-size:30px;cursor:pointer\" class=\"btn btn btn-success opennav\"> &#9776; ` + loadDivSelector + ` </a>\r\n\r\n                    <div class=\"new-message-wrapper\">\r\n                        <div class=\"form-group\">\r\n                            <input class=\"form-control\" placeholder=\"Send message to...\" type=\"text\">\r\n                            <a class=\"btn btn-danger close-new-message\" href=\"#\"><i class=\"fa fa-times\"></i></a>\r\n                        </div>\r\n\r\n\t\t\t\t\t\t<div class=\"col-md-8 chat-footer new-message-textarea\">\r\n\t\t\t\t\t\t\t<textarea class = \"send-message-text\"></textarea>\r\n                            <button type=\"button\" id=\"msg-send-btn-` + loadDivSelector + `\" class=\"send-message-button\"> <i class=\"fa fa-send\"></i> </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `\r\n\r\n\t\t\tlet divmc = < HTMLElement > document.createElement('div');\r\n\r\n\t\t\tdivmc.className = 'message-chat'\r\n\r\n\t\t\tdivmmm = < HTMLElement > document.createElement('div');\r\n\r\n\t\t\tdivmmm.className = 'chat-body'\r\n\r\n\t\t\tdivmmm.innerHTML = `<div class=\"tab-pane col-md-9\">` +\r\n\t\t\t\tthis.SenderColor(sender, receiver, power, msg) + `</div>\r\n            \r\n            <div class=\"tab-pane col-md-3\">\r\n\r\n\r\n\t\t\t<div class=\"sidenav\" id=\"closenav-` + loadDivSelector + `\">\r\n\t\t\t<a href=\"javascript:void(0)\" class=\"closenav\">&times;</a>\r\n\r\n\t\t\t<a href=\"#\" class=\"mnli\">Kick</a>\r\n\r\n\t\t    </div>\t\t\t\r\n\r\n\r\n            <div class=\"list-group lg-alt\" id=\"userlist-` + loadDivSelector + `\">\r\n\r\n\t\t\t<div class=\"usernav\" id=\"userclosenav-` + loadDivSelector + `\">\r\n\t\t\t\r\n\t\t\t<a href=\"javascript:void(0)\" class=\"closenav\">&times;</a>\r\n\r\n            <ul style=\"list-style-type:none\">\r\n\r\n            </ul>\r\n\r\n\t\t    </div>\r\n\r\n\t\t\t</div>\r\n\r\n\r\n            </div>\r\n\t\t\t`\r\n\t\t\tlet chatFooter = < HTMLElement > document.createElement('div');\r\n\t\t\tchatFooter.innerHTML = `<div class=\"col-md-8 chat-footer\">\r\n\t   <textarea class = \"send-message-text\" id=\"msg-btn-` + loadDivSelector + `\"></textarea>\r\n       <button type=\"button\" id=\"msg-send-btn-` + loadDivSelector + `\" class=\"send-message-button btn btn-info\"> <i class=\"fa fa-send\"></i> </button>\r\n\t   </div>\r\n\t   `\r\n\t\t\tdivmc.appendChild(divmmm)\r\n\t\t\tdivmc.appendChild(chatFooter)\r\n\t\t\tdivtpmb.appendChild(opmsgdiv)\r\n\t\t\tdivtpmb.appendChild(divmc)\r\n\t\t\tmsgholder.appendChild(divtpmb)\r\n\r\n\t\t\tlet bdkey = < HTMLInputElement > document.getElementById('msg-btn-' + loadDivSelector)\r\n\r\n\t\t\tlet msgSendButton = < HTMLButtonElement > document.getElementById('msg-send-btn-' + loadDivSelector)\r\n\r\n\t\t\t// if (bdkey != null) {\r\n\r\n\t\t\t// \tbdkey.addEventListener('keydown', (e) => {\r\n\r\n\t\t\t// \t\tif (e.keyCode == 13 && !e.shiftKey) {\r\n\r\n\t\t\t// \t\t\tlet txtData: any = e.target\r\n\r\n\t\t\t// \t\t\tlet rmnm: string = txtData.id\r\n\r\n\t\t\t// \t\t\trmnm = rmnm.split('msg-btn-')[1]\r\n\r\n\t\t\t// \t\t\tthis.ServerRequest('roomchat', rmnm, txtData.value)\r\n\r\n\t\t\t// \t\t\t// console.log(txtData.value)\r\n\r\n\t\t\t// \t\t\t// console.log(rmnm)\r\n\r\n\t\t\t// \t\t\ttxtData.value = \"\"\r\n\r\n\r\n\t\t\t// \t\t\tlet el = $(\".send-message-text\").emojioneArea();\r\n\t\t\t// \t\t\tel[0].emojioneArea.setText('')\r\n\t\t\t// \t\t}\r\n\r\n\t\t\t// \t})\r\n\r\n\t\t\t// }\r\n\r\n\t\t\t// if (\"ontouchstart\" in window || navigator.msMaxTouchPoints) {\r\n\r\n\t\t\t// \t['ontouchstart'].forEach(evt =>\r\n\r\n\t\t\t// \t\tmsgSendButton.addEventListener(evt, (e) => {\r\n\r\n\t\t\t// \t\t\tlet txtData: any = e.target\r\n\r\n\t\t\t// \t\t\tlet rmnm: string = txtData.id\r\n\r\n\t\t\t// \t\t\trmnm = rmnm.split('msg-send-btn-')[1]\r\n\r\n\t\t\t// \t\t\tthis.ServerRequest('roomchat', rmnm, bdkey.value)\r\n\r\n\t\t\t// \t\t\tconsole.log(txtData.value)\r\n\r\n\t\t\t// \t\t\tconsole.log(rmnm)\r\n\r\n\t\t\t// \t\t\tbdkey.value = \"\"\r\n\r\n\t\t\t// \t\t}, false)\r\n\t\t\t// \t);\r\n\r\n\t\t\t// } else {\r\n\r\n\t\t\t// \t['click'].forEach(evt =>\r\n\r\n\t\t\t// \t\tmsgSendButton.addEventListener(evt, (e) => {\r\n\r\n\t\t\t// \t\t\tlet txtData: any = e.target\r\n\r\n\t\t\t// \t\t\tlet rmnm: string = txtData.id\r\n\r\n\t\t\t// \t\t\trmnm = rmnm.split('msg-send-btn-')[1]\r\n\r\n\t\t\t// \t\t\tthis.ServerRequest('roomchat', rmnm, bdkey.value)\r\n\r\n\t\t\t// \t\t\tconsole.log(txtData.value)\r\n\r\n\t\t\t// \t\t\tconsole.log(rmnm)\r\n\r\n\t\t\t// \t\t\tbdkey.value = \"\"\r\n\r\n\t\t\t// \t\t}, false)\r\n\t\t\t// \t);\r\n\r\n\t\t\t// }\r\n\r\n\t\t}\r\n\r\n\t\tif (createdChat != null) {\r\n\t\t\tcreatedChat.scrollTop = createdChat.scrollHeight - createdChat.clientHeight\r\n\t\t}\r\n\r\n\t\tthis.openNav()\r\n\r\n\t\tthis.closeNav()\r\n\r\n\t\tthis.userNav()\r\n\r\n\t\tthis.sendTxtjq(loadDivSelector);\r\n\r\n\t}\r\n\r\n\tprivate sendTxtjq(id: string) {\r\n\t\tlet mthis = this\r\n\t\t$(document).ready(function () {\r\n\r\n\r\n\t\t\t// $(\"#msg-btn-\" + id).emojioneArea({\r\n\t\t\t// \temojiPlaceholder: \":smile_cat:\",\r\n\t\t\t// \thidePickerOnBlur: false,\r\n\t\t\t// \tevents: {\r\n\t\t\t// \t\tkeypress: function (editor: any, event: any) {\r\n\t\t\t// \t\t\tconsole.log('event:keypress', event.which);\r\n\t\t\t// \t\t\tif (event.which == 13) {\r\n\t\t\t// \t\t\t\tconsole.log('event:keypress2', event.which);\r\n\t\t\t// \t\t\t\tconsole.log($(\"#msg-btn-\" + id).data(\"emojioneArea\").getText())\r\n\t\t\t// \t\t\t\t$(\"#msg-btn-\" + id).data(\"emojioneArea\").setText(\"\");\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// });\r\n\r\n\r\n\t\t\t$(\"#msg-btn-\" + id).emojioneArea({\r\n\t\t\t\tinline: true,\r\n\t\t\t\tpickerPosition: 'top',\r\n\t\t\t\thideSource: true,\r\n\t\t\t\tevents: {\r\n\t\t\t\t\t// Enter key as submit button --> working\r\n\r\n\t\t\t\t\tkeyup: function (editor: any, event: any) {\r\n\r\n\t\t\t\t\t\tif (event.which == 13 && $.trim($(\"#msg-btn-\" + id).data(\"emojioneArea\").getText()).length > 0) {\r\n\r\n\t\t\t\t\t\t\t$('#msg-send-btn-' + id).click();\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t// clear textArea after submit --> working\r\n\t\t\t\t\t\t\t//$(\"#msg-btn-\" + id).data(\"emojioneArea\").setText(\"\");\r\n\r\n\t\t\t\t\t\t\t// keep focus in textarea after keyup --> working\r\n\t\t\t\t\t\t\teditor.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tprivate openNav() {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\t$('a.opennav').on('click touchstart', function () {\r\n\r\n\t\t\tlet roomname: any = $(this).attr(\"id\");\r\n\r\n\t\t\troomname = roomname.split('-')[1]\r\n\r\n\t\t\tmthis.currentRoom = roomname\r\n\r\n\t\t\t$('#closenav-' + roomname).css(\"width\", \"250px\")\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate closeNav() {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\t$('.closenav').on('click touchstart', function () {\r\n\r\n\t\t\tlet btnid: any = $(this).parent().css(\"width\", \"0\");\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tprivate userNav() {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\t$('a.mnli').on('click touchstart', function (e) {\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tmthis.currentAction = $(this).text()\r\n\r\n\t\t\tmthis.RoomUserList(mthis.currentRoom);\r\n\r\n\t\t\t$(this).parent().css(\"width\", \"0\");\r\n\r\n\t\t\t$('#userclosenav-' + mthis.currentRoom).css(\"width\", \"250px\")\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate clickUser() {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\t$('a.mnuclick').on('click touchstart', function (e) {\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tlet username: any = $(this).text();\r\n\r\n\t\t\t$('#userclosenav-' + mthis.currentRoom).css(\"width\", \"0px\")\r\n\r\n\t\t\tmthis.userClickAction(username, mthis.currentAction)\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate userClickAction(user: string, actionname: string) {\r\n\r\n\t\tif (actionname === 'Kick') {\r\n\t\t\tthis.KickUser(this.currentRoom, user)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate roomTxtSendBtn() {\r\n\r\n\t\tlet mthis = this\r\n\r\n\t\t$('.send-message-button').on('click', function () {\r\n\r\n\t\t\tlet btnid: any = $(this).attr(\"id\");\r\n\r\n\t\t\tif (btnid !== undefined) {\r\n\r\n\t\t\t\tlet romname: string = btnid.split('msg-send-btn-')[1];\r\n\r\n\t\t\t\tlet usertxt: string = $(\"#msg-btn-\" + romname).data(\"emojioneArea\").getText() // $(\"#msg-btn-\" + romname).text();\r\n\r\n\t\t\t\tif ($.trim(usertxt).length > 0) {\r\n\r\n\t\t\t\t\tmthis.ServerRequest('roomchat', romname, usertxt);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(\"#msg-btn-\" + romname).data(\"emojioneArea\").setText(\"\");\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate addListenerMulti(element: any, eventNames: any, listener: any) {\r\n\t\tvar events = eventNames.split(' ');\r\n\t\tfor (var i = 0, iLen = events.length; i < iLen; i++) {\r\n\t\t\telement.addEventListener(events[i], listener, false);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate ServerRequest(type: string, targetName: string, chat_msg: string) {\r\n\r\n\t\tthis.ws.send(\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t'type': 'roomchat',\r\n\t\t\t\t'room_name': targetName,\r\n\t\t\t\t'user_id': this.session,\r\n\t\t\t\t'chat_msg': chat_msg,\r\n\t\t\t\t'token': this.token\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tprivate SenderColor(sender: string, receiver: string, power: string, msg: string) {\r\n\r\n\t\tlet retstring: string;\r\n\r\n\t\tif (sender == receiver) {\r\n\r\n\t\t\t// if (power == \"2\") {\r\n\t\t\t// retstring = '<span style=\"color:#FF4500;\">' + sender + '</span> : <span>' + msg + `</span>`\r\n\t\t\t// } else {\r\n\t\t\tretstring = '<span style=\"color:#FF4500;\">' + sender + '</span> : <span>' + msg + `</span>`\r\n\t\t\t// }\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// console.log(power);\r\n\r\n\t\t\tif (power == \"2\") {\r\n\t\t\t\tretstring = '<span style=\"color:#FF6347;\">' + sender + '</span> : <span>' + msg + `</span>`\r\n\t\t\t} else {\r\n\t\t\t\tretstring = '<span style=\"color:#000080;\">' + sender + '</span> : <span>' + msg + `</span>`\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn retstring\r\n\t}\r\n\r\n\tprivate showTab(tabId: string) {\r\n\t\tlet tabContent = < HTMLElement > document.querySelector('#myTab a[href=\"#' + tabId + '\"]')\r\n\t\ttabContent.style.display = 'block'\r\n\t}\r\n\r\n\r\n\tpublic JoinLeave(targetName: string) {\r\n\t\tthis.ws.send(\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t'type': 'roomleave',\r\n\t\t\t\t'room_name': targetName,\r\n\t\t\t\t'user_id': this.session,\r\n\t\t\t\t'token': this.token\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tpublic JoinJoin(targetName: string) {\r\n\t\tthis.ws.send(\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t'type': 'roomjoin',\r\n\t\t\t\t'room_name': targetName,\r\n\t\t\t\t'user_id': this.session,\r\n\t\t\t\t'token': this.token\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tprivate RoomUserList(targetName: string) {\r\n\r\n\t\tthis.ws.send(\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t'type': 'roomuserlist',\r\n\t\t\t\t'room_name': targetName,\r\n\t\t\t\t'user_id': this.session,\r\n\t\t\t\t'token': this.token\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tprivate KickUser(room: string, targetName: string) {\r\n\r\n\t\tthis.ws.send(\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t'type': 'kick',\r\n\t\t\t\t'room_name': room,\r\n\t\t\t\t'target_name': targetName,\r\n\t\t\t\t'user_id': this.session,\r\n\t\t\t\t'token': this.token\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tprivate Alive() {\r\n\r\n\t\tthis.ws.send(\r\n\t\t\tJSON.stringify({\r\n\t\t\t\t'type': 'alive',\r\n\t\t\t\t'user_id': this.session,\r\n\t\t\t\t'token': this.token\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tprivate Logout(e: MouseEvent) {\r\n\r\n\t\tif (confirm('Do you want to Logout?')) {\r\n\t\t\tthis.ws.send(\r\n\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t'type': 'logout',\r\n\t\t\t\t\t'user_id': this.session,\r\n\t\t\t\t\t'token': this.token\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\twindow.location.href = this.siteUrl + \"index.php/Logout\";\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}"],"sourceRoot":""}